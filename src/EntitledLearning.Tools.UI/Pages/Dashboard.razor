@page "/dashboard"
@inherits BasePage

<PageTitle>Entitled Tooling | Dashboard</PageTitle>

<AuthorizeView>
    <Authorized>
        <section class="flex flex-col p-4 w-full">
            <RadzenBreadCrumb class="mb-8">
                <RadzenBreadCrumbItem Path="/" Text="Home" />
                <RadzenBreadCrumbItem Icon="" Text="Dashboard" />
            </RadzenBreadCrumb>

            <RadzenAlert AlertStyle="AlertStyle.Warning" Variant="Variant.Flat" Shade="Shade.Lighter" class="mb-4">
                Note: Some charts may display sample data until connected to live data sources.
            </RadzenAlert>
            
            <!-- Student Demographics -->
            <DashboardLayout SectionTitle="Student Demographics" Columns="3">
                <DashboardItem Title="Age Distribution">
                    <StudentAgeDistribution />
                </DashboardItem>
                <DashboardItem Title="Racial Composition">
                    <StudentRacialComposition />
                </DashboardItem>
                <DashboardItem Title="Household Income Distribution" TagText="Beta">
                    <HouseholdIncomeDistribution />
                </DashboardItem>
                <DashboardItem Title="Scholar Distribution" TagText="Beta">
                    <ScholarDistribution />
                </DashboardItem>
                <DashboardItem Title="Geographic Distribution (by Zipcode)">
                    <StudentGeographicDistribution />
                </DashboardItem>
                <DashboardItem Title="Key Metrics" TagText="Beta" ColSpan="1">
                    <div class="flex flex-col gap-4">
                        <RadzenCard Variant="Variant.Flat">
                            <div class="flex flex-col w-full items-center">
                                <h3 class="text-lg font-bold mb-2">Faculty to Student Ratio</h3>
                                <p class="text-2xl font-normal">1:4</p>
                            </div>
                        </RadzenCard>
                        <div class="grid grid-cols-2 gap-2">
                            <RadzenCard Variant="Variant.Flat">
                                <div class="text-center">
                                    <h4 class="text-xl font-semibold text-gray-700">44</h4>
                                    <div class="text-gray-500 text-sm">Total Students</div>
                                </div>
                            </RadzenCard>
                            <RadzenCard Variant="Variant.Flat">
                                <div class="text-center">
                                    <h4 class="text-xl font-semibold text-gray-700">11</h4>
                                    <div class="text-gray-500 text-sm">Total Faculty</div>
                                </div>
                            </RadzenCard>
                        </div>
                    </div>
                </DashboardItem>
            </DashboardLayout>
            
            <!-- Guardian & Family -->
            <DashboardLayout SectionTitle="Guardian & Family" Columns="3">
                <DashboardItem Title="Relationship Types">
                    <GuardianRelationshipTypes />
                </DashboardItem>
                <DashboardItem Title="Students per Guardian">
                    <StudentsPerGuardian />
                </DashboardItem>
                <DashboardItem Title="Contact Status" TagText="Comming Soon" TagType="TagType.ComingSoon">
                    
                </DashboardItem>
            </DashboardLayout>
            
            <!-- Enrollment Analytics -->
            <DashboardLayout SectionTitle="Enrollment & Retention" Columns="3">
                <DashboardItem Title="Enrollment Trends" TagText="Comming Soon" ColSpan="2">
                    <EnrollmentTrends />
                </DashboardItem>
                <DashboardItem Title="Shirt Size Distribution">
                    <ShirtSizeDistribution />
                </DashboardItem>
            </DashboardLayout>
            
            <!-- Community Partners -->
            <DashboardLayout SectionTitle="Community Partners" Columns="2">
                <DashboardItem Title="Geographic Distribution">
                    <PartnerDistributionByArea />
                </DashboardItem>
                <DashboardItem Title="Partner Contact Types">
                    <PartnerContactTypes />
                </DashboardItem>
            </DashboardLayout>
            
            <!-- Program Effectiveness -->
            <DashboardLayout SectionTitle="Program Effectiveness" Columns="3">
                <DashboardItem Title="Test Scores by Subject" TagText="Comming Soon" ColSpan="2">

                </DashboardItem>
                <DashboardItem Title="Attendance Trends" TagText="Comming Soon">

                </DashboardItem>
                <DashboardItem Title="Student Details" ColSpan="3">
                    <StudentDataGrid ShowButtons="false"/>
                </DashboardItem>
            </DashboardLayout>
        </section>
    </Authorized>
    <NotAuthorized>
        <h1 class="text-2xl leading-loose">Please Log in to access this page</h1>
    </NotAuthorized>
</AuthorizeView>
